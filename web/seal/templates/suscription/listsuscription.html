{% extends "teacher/teacher.html" %}
{% load i18n %}
{% block content %}

<script type="text/javascript">
	function checkAll(source) {
		checkboxes = document.getElementsByName('suscription');
		for (var i in checkboxes)
			checkboxes[i].checked = source.checked;
	}
</script>

<body>
	<form method="post" action="">
		{% csrf_token %}
		<div style="width: 100%; margin: auto; padding: 15px 0; clear: both;" >
			<div style="clear: none; width: 50%; float: left;">
				{% blocktrans with course.name as coursename %}Pending Suscription of course {{ coursename }}{% endblocktrans %}
				<br>
				<br>
			</div>
			<table style="width: 100%;">
				<thead style="text-align: center; ">
					<tr>
						<td>{% trans "Uid" %}</td>
						<td>{% trans "Student Uid" %}</td>
						<td>{% trans "Student Name" %}</td>
						<td>{% trans "Suscirption Date" %}</td>
						<td>
							<input name="checkall" type="checkbox" onclick="checkAll(this)"/>
						</td>
					</tr>
				</thead>
				<tbody>
					{% for suscription in suscriptions %}
					<tr>
						<td style="text-align: center; " >{{ suscription.pk }}</td>
						<td style="text-align: center; ">{{ suscription.student.uid }}</td>
						<td style="text-align: center; ">{{ suscription.student.name }}</td>
						<td style="text-align: center; ">{{ suscription.suscriptionDate }}</td>
						<td align="center">
						<input type="checkbox" id="{{ suscription.pk }}" name="suscription" value="{{ suscription.pk }}">
						</td>
					</tr>
					{% empty %}
					<tr>
						<td colspan="4" style="text-align: center; ">{% trans "There are yet no suscriptions for this course" %}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
			<input style="float: right" name="Accept" type="button" value="{% trans 'Accept' %}" onclick="this.form.action='/teacher/suscription/acceptGroup/{{course.id}}/';this.form.submit();" />
			<input style="float: right" name="Reject" type="button" value="{% trans 'Reject' %}" onclick="this.form.action='/teacher/suscription/rejectGroup/{{course.id}}/';this.form.submit();"/>
			<br>
			<br>
			<div style="clear: none; width: 50%; float: left;">
				{% blocktrans with course.name as coursename %}Suscription solver of course {{ coursename }}{% endblocktrans %}
				<br>
				<br>
			</div>
			<table style="width: 100%;">
				<thead style="text-align: center; ">
					<tr>
						<td>{% trans "Uid" %}</td>
						<td>{% trans "Student Uid" %}</td>
						<td>{% trans "Student Name" %}</td>
						<td>{% trans "Suscirption Date" %}</td>
						<td>{% trans "Resolve Date" %}</td>
						<td>{% trans "State" %}</td>
					</tr>
				</thead>
				<tbody>
					{% for suscription in suscriptionsSolve %}
					<tr>
						<td style="text-align: center; ">{{ suscription.pk }}</td>
						<td style="text-align: center; ">{{ suscription.student.uid }}</td>
						<td style="text-align: center; ">{{ suscription.student.name }}</td>
						<td style="text-align: center; ">{{ suscription.suscriptionDate }}</td>
						<td style="text-align: center; ">{{ suscription.resolveDate }}</td>
						<td style="text-align: center; ">{{ suscription.state }}</td>
					</tr>
					{% empty %}
					<tr>
						<td colspan="6" style="text-align: center; ">{% trans "There are yet no suscriptions solve for this course" %}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		<a href="/teacher/course/editcourse/{{course.pk}}">{% trans "back" %}</a>
	</form>
</body>
{% endblock %}
