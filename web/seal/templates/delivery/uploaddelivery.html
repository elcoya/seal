{% extends "undergraduate/undergraduate.html" %}
{% load i18n %}
{% block content %}
<body>
	<form id='formuploaddelivery' action='' method='post' enctype='multipart/form-data'>
		{% csrf_token %}
		<table>
			<div style="width: 100%; text-align: left; margin: auto;">
				{% blocktrans %}Upload delivery from practice {{namepractice}}{% endblocktrans %}
				<br>
				<br>
			</div>
			{{ form.as_table }}
		</table>
		<input type='submit' value='{% trans "Upload" %}' />
		<br>
		<br>
		<div style="width: 100%; text-align: left; margin: auto;">
			<div>
				{% blocktrans %}Deliveries practice {{namepractice}}{% endblocktrans %}
				<br>
				<br>
			</div>
		</div>

		<table style="width: 100%">
			<thead style="text-align: center; ">
				<tr>
					<td>{% trans "Uid" %}</td>
					<td>{% trans "Delivery Date" %}</td>
					<td>{% trans "Status" %}</td>
					<td>{% trans "Automatic Correction" %}</td>
				</tr>
			</thead>
			<tbody>
				{% for delivery in deliveries %}
				<tr>
					<td style="width: 20%; text-align: center; " >{{ delivery.pk }}</td>
					<td style="width: 20%; text-align: center; ">{{ delivery.deliverDate }}</td>
					<td style="width: 20%; text-align: center; ">
						<a href="/undergraduate/correction/consult/{{ delivery.pk }}">
							{% if delivery.correction_set.all %}
								{% trans "corrected" %}
							{% else %}
								{% trans "uncorrected" %}
							{% endif %}
						</a>
					</td>
					<td style="width: 20%; text-align: center; ">
						<a href="/undergraduate/automatic_correction/{{ delivery.pk }}">
							{{ delivery.get_automatic_correction.get_status }}
						</a>
					</td>
				</tr>
				{% empty %}
				<tr>
					<td colspan="4" style="text-align: center; ">{% trans "There are yet no deliveries from this practice" %}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>

		<footer>
			<a href="/undergraduate/practice/list/{{idcourse}}">{% trans "back" %}</a>
		</footer>
	</form>
</body>
{% endblock %}